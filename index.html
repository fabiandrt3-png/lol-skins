<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Skins League of Legends</title>
<style>
body { margin:0; font-family:Arial,sans-serif; background:#000; color:#fff; }
header { padding:40px; text-align:center; font-size:4rem; font-weight:bold; border-bottom:2px solid #333; }

.container { display:grid; grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); gap:25px; padding:25px; }

.card { border:2px solid #333; border-radius:18px; overflow:hidden; text-align:center; cursor:pointer; transition:0.2s ease; background:#111; }
.card:hover { transform:scale(1.05); }
.card img { width:100%; height:auto; max-height:220px; object-fit:cover; }

.name { font-weight:bold; font-size:1.5rem; padding:10px 0; }

#back {
    position:fixed;
    top:10px;
    left:10px;
    margin:0;
    padding:1.2rem 2.5rem;
    cursor:pointer;
    border:none;
    background:rgba(0,0,0,0);
    color:#fff;
    border-radius:10px;
    z-index:10000;
    font-size:1.5rem;
}
#back:hover { background:rgba(255,255,255,0.1); }

#lightbox {
    display:none; 
    position:fixed; 
    top:0; left:0; 
    width:100vw; height:100vh; 
    background:rgba(0,0,0,0.95); 
    justify-content:center; align-items:center; 
    z-index:9999; 
    overflow:hidden; 
    touch-action: none;
}
#lightbox img {
    max-width:none; max-height:none; 
    transform-origin:0 0;
    position:absolute; top:0; left:0;
    cursor:grab;
}
#lightbox img:active { cursor:grabbing; }

@media (max-width:768px){
    header { font-size:3rem; padding:30px; }
    .card img { max-height:180px; }
    .name { font-size:1.2rem; }
    #back { padding:1rem 2rem; font-size:1.3rem; }
}
</style>
</head>
<body>

<header id="header">Skins League of Legends</header>

<button id="back" style="display:none;">⬅ Retour</button>
<div class="container" id="container"></div>

<div id="lightbox">
    <img id="lightbox-img" src="">
</div>

<script>
const container = document.getElementById("container");
const header = document.getElementById("header");
const backBtn = document.getElementById("back");
const lightbox = document.getElementById("lightbox");
const lightboxImg = document.getElementById("lightbox-img");

const championsSkins = [
    // === AKSHAN ===
    { champ:"Akshan", skin:"Classic Akshan", image:"https://i.imgur.com/J3EcwAM.jpg", type:"PC", icon:"https://ddragon.leagueoflegends.com/cdn/13.21.1/img/champion/Akshan.png" },
    { champ:"Akshan", skin:"Cyber Pop Akshan", image:"https://i.imgur.com/Pf228Tk.jpg", type:"PC", icon:"https://ddragon.leagueoflegends.com/cdn/13.21.1/img/champion/Akshan.png" },
    { champ:"Akshan", skin:"Battle Academia Akshan", image:"https://i.imgur.com/cPBY1NY.jpg", type:"Wild Rift", icon:"https://ddragon.leagueoflegends.com/cdn/13.21.1/img/champion/Akshan.png" },
    { champ:"Akshan", skin:"Crystal Rose Akshan", image:"https://i.imgur.com/OYB83Nw.jpg", type:"PC", icon:"https://ddragon.leagueoflegends.com/cdn/13.21.1/img/champion/Akshan.png" },
    { champ:"Akshan", skin:"Three Honors Akshan", image:"https://i.imgur.com/UCrAOYC.jpg", type:"PC", icon:"https://ddragon.leagueoflegends.com/cdn/13.21.1/img/champion/Akshan.png" },
    { champ:"Akshan", skin:"Dawnbringer Akshan", image:"https://i.imgur.com/LSGPOth.jpg", type:"Wild Rift", icon:"https://ddragon.leagueoflegends.com/cdn/13.21.1/img/champion/Akshan.png" },

    // === AHRI ===
    { champ:"Ahri", skin:"Classic Ahri", image:"https://i.imgur.com/NRtYkHz.jpg", type:"PC", icon:"https://ddragon.leagueoflegends.com/cdn/13.21.1/img/champion/Ahri.png" },
    { champ:"Ahri", skin:"Spirit Blossom Ahri", image:"https://i.imgur.com/CYKMV1m.jpg", type:"Wild Rift", icon:"https://ddragon.leagueoflegends.com/cdn/13.21.1/img/champion/Ahri.png" },
    { champ:"Ahri", skin:"K/DA ALL OUT Ahri", image:"https://imgur.com/FQRbJIy.jpg", type:"PC", icon:"https://ddragon.leagueoflegends.com/cdn/13.21.1/img/champion/Ahri.png" },

    // === AKALI ===
    { champ:"Akali", skin:"Classic Akali", image:"https://imgur.com/iMyJUAl.jpg", type:"PC", icon:"https://ddragon.leagueoflegends.com/cdn/13.21.1/img/champion/Akali.png" },

    // === AATROX === (exemple, ajoute tous tes skins ici)
    { champ:"Aatrox", skin:"Classic Aatrox", image:"https://i.imgur.com/rzpbify.jpg", type:"PC", icon:"https://ddragon.leagueoflegends.com/cdn/13.21.1/img/champion/Aatrox.png" },
    { champ:"Aatrox", skin:"Justicar Aatrox", image:"https://i.imgur.com/e7zA3Vz.jpg", type:"PC", icon:"https://ddragon.leagueoflegends.com/cdn/13.21.1/img/champion/Aatrox.png" }
    // ajoute le reste ici comme avant...
];

let currentLightboxIndex = 0;
let currentChampionSkins = [];

// Transformation
let scale = 1, posX = 0, posY = 0;
let isDragging = false, startX = 0, startY = 0;
let isPinching = false, startDistance = 0, startScale = 1;

function updateTransform(){
    lightboxImg.style.transform = `translate(${posX}px, ${posY}px) scale(${scale})`;
}

function showChampions(){
    header.textContent="Skins League of Legends";
    backBtn.style.display="none";
    container.innerHTML="";
    const champNames = [...new Set(championsSkins.map(s=>s.champ))].sort();
    champNames.forEach(champ=>{
        const card = document.createElement("div");
        card.className="card";
        const champIcon = championsSkins.find(s=>s.champ===champ).icon;
        card.innerHTML = `<img src="${champIcon}"><div class="name">${champ}</div>`;
        card.onclick = ()=>showSkins(champ);
        container.appendChild(card);
    });
}

function showSkins(champ){
    header.textContent=`${champ} Skins`;
    backBtn.style.display="block";
    container.innerHTML="";
    currentChampionSkins = championsSkins.filter(s=>s.champ===champ);
    currentChampionSkins.forEach((skin,index)=>{
        const card = document.createElement("div");
        card.className="card";
        let skinName = skin.skin
            .replace("(Prestige Select)", "<span style='color:#FFD700;'>(Prestige Select)</span>")
            .replace("(Prestige)", "<span style='color:#FFD700;'>(Prestige)</span>")
            .replace("(Exquisite Edition)", "<span style='color:#FFD700;'>(Exquisite Edition)</span>")
            .replace(/\(([^)]+Chroma[^)]*)\)/gi, "<span style='color:red;'>($1)</span>");
        const label = skin.type==="Wild Rift" ? ` <span style="color:#00bfff;">(Wild Rift)</span>` : "";
        card.innerHTML = `<img src="${skin.image}"><div class="name">${skinName}${label}</div>`;
        card.querySelector('img').addEventListener('click', e=>{
            e.stopPropagation();
            openLightbox(index);
        });
        container.appendChild(card);
    });
}

function openLightbox(index){
    currentLightboxIndex = index;
    scale = 1; posX = 0; posY = 0; // réinitialiser
    lightboxImg.src = currentChampionSkins[currentLightboxIndex].image;
    lightbox.style.display = "flex";
    updateTransform();
}

// Drag pour desktop
lightboxImg.addEventListener('mousedown', e=>{
    isDragging = true;
    startX = e.clientX - posX;
    startY = e.clientY - posY;
});
window.addEventListener('mousemove', e=>{
    if(isDragging){
        posX = e.clientX - startX;
        posY = e.clientY - startY;
        updateTransform();
    }
});
window.addEventListener('mouseup', e=>{ isDragging = false; });

// Pinch pour mobile
lightbox.addEventListener('touchstart', e=>{
    if(e.touches.length === 1){
        isDragging = true;
        startX = e.touches[0].clientX - posX;
        startY = e.touches[0].clientY - posY;
    } else if(e.touches.length === 2){
        isPinching = true;
        const dx = e.touches[0].clientX - e.touches[1].clientX;
        const dy = e.touches[0].clientY - e.touches[1].clientY;
        startDistance = Math.hypot(dx, dy);
        startScale = scale;
    }
});
lightbox.addEventListener('touchmove', e=>{
    e.preventDefault();
    if(isDragging && e.touches.length===1){
        posX = e.touches[0].clientX - startX;
        posY = e.touches[0].clientY - startY;
        updateTransform();
    } else if(isPinching && e.touches.length===2){
        const dx = e.touches[0].clientX - e.touches[1].clientX;
        const dy = e.touches[0].clientY - e.touches[1].clientY;
        const newDist = Math.hypot(dx, dy);
        const delta = (newDist - startDistance) * 0.01;
        scale = Math.max(1, Math.min(5, startScale + delta));
        updateTransform();
    }
});
lightbox.addEventListener('touchend', e=>{ isDragging=false; isPinching=false; });

// Navigation gauche/droite click
lightboxImg.addEventListener('click', e=>{
    if(scale !== 1) return; // pas changer de skin quand zoom
    const rect = lightboxImg.getBoundingClientRect();
    const x = e.clientX - rect.left;
    if(x < rect.width/2){
        currentLightboxIndex = (currentLightboxIndex-1+currentChampionSkins.length) % currentChampionSkins.length;
    } else {
        currentLightboxIndex = (currentLightboxIndex+1) % currentChampionSkins.length;
    }
    posX = 0; posY = 0; scale = 1;
    lightboxImg.src = currentChampionSkins[currentLightboxIndex].image;
    updateTransform();
});

// Bouton retour
backBtn.onclick = ()=>{
    if(lightbox.style.display==='flex'){
        lightbox.style.display='none';
    } else showChampions();
};

showChampions();
</script>

</body>
</html>
